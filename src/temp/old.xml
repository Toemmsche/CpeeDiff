<description xmlns="http://cpee.org/ns/description/1.0">
    <manipulate>data.budget = 100;</manipulate>
    <loop condition="data.costs > 0">
        <call endpoint="http://www.example.com/shopping">
            <parameters>
                <label>Buy a random item</label>
                <method>:post</method>
                <arguments>
                    <max_price>data.budget</max_price>
                </arguments>
            </parameters>
            <code>
                <finalize>
                    data.items.push(result.value('name'));
                </finalize>
            </code>
        </call>
    </loop>
</description>