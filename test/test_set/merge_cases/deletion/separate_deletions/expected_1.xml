<properties xmlns="http://cpee.org/ns/properties/2.0">
    <dataelements>
        <persons>3</persons>
        <card>Visa_12345</card>
        <hotels>[]</hotels>
        <to>Prague</to>
        <costs>0</costs>
    </dataelements>
    <endpoints>
        <timeout>http://gruppe.wst.univie.ac.at/~mangler/services/timeout.php</timeout>
        <bookHotel>http://gruppe.wst.univie.ac.at/~mangler/services/hotel.php</bookHotel>
        <approve>http://gruppe.wst.univie.ac.at/~mangler/services/approval.php</approve>
    </endpoints>
    <dslx>
        <description xmlns="http://cpee.org/ns/description/1.0">
            <loop mode="pre_test" condition="data.persons > 0">
                <call id="a2" endpoint="bookHotel">
                    <parameters>
                        <label>Book Hotel</label>
                        <method>:post</method>
                        <arguments>
                            <to>data.to</to>
                        </arguments>
                    </parameters>
                    <code>
                        <finalize output="result">data.hotels.push(result.value('id')); data.costs +=
                            result.value('costs').to_f;
                        </finalize>
                    </code>
                </call>
                <manipulate id="a3">data.persons -= 1</manipulate>
            </loop>
        </description>
    </dslx>
</properties>